#pragma once
// ============================================================================
//  hal/tracking_wheels.h — 追踪轮接口（垂直双轮方案）
// ============================================================================
//
//  【什么是追踪轮？】
//    追踪轮 (Dead Wheels / Tracking Wheels) = 不带电机的被动小轮子。
//    它们不驱动机器人前进，只是贴在地上自由滚动，
//    用旋转传感器记录滚了多远——就像你在地上拉卷尺一样精确！
//
//  【垂直双轮布局】
//    • 纵向轮（Forward）：朝前安装，测量前后位移
//    • 横向轮（Lateral）：朝右安装，测量左右侧滑
//    旋转角度由 IMU 提供，不需要从追踪轮推算。
//
//  【为什么不用电机自带的编码器？】
//    电机轮子打滑时，编码器以为走了 1 米，实际只走了 0.8 米——不准！
//    追踪轮没有动力，靠地面摩擦力滚动，不会打滑——准！
//
//  【推荐硬件搭建】
//    • 2.75" 或 3.25" 全向轮（表面有小滚轮，方便侧向滑动时不卡）
//    • V5 旋转传感器（精度 0.01° = 一圈 36000 个刻度，非常精确！）
//    • 弹簧浮动支架（确保轮子始终压在地面上，过坎也不翘起来）
//
// ============================================================================

/// 初始化追踪轮传感器（开机时调用一次）
void tracking_wheels_init();

/// 把两个追踪轮的读数归零（重新开始计算距离）
void tracking_wheels_reset();

/// 获取纵向追踪轮累计滚过的距离（单位：米）
/// 正数 = 向前，负数 = 向后
double tracking_get_forward_distance_m();

/// 获取横向追踪轮累计滚过的距离（单位：米）
/// 正数 = 向右，负数 = 向左
double tracking_get_lateral_distance_m();

/// 检查两个追踪轮旋转传感器是否都已连接
/// 返回 true = 都连上了，false = 至少有一个没连上
bool tracking_wheels_connected();
